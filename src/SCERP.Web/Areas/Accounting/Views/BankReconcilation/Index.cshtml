@model SCERP.Model.VoucherListViewModel
@{
    ViewBag.Title = "Bank Reconcilation";
    Layout = "~/Views/Shared/_Layout2.cshtml";
}

<style type="text/css">
    table.gridtable {
        font-family: verdana,arial,sans-serif;
        font-size: 12px;
        color: #333333;
        border-width: 1px;
        border-color: #666666;
        border-collapse: collapse;
        width: 70%;
        margin-left: 0px;
    }

        table.gridtable th {
            border-width: 1px;
            padding: 5px;
            border-style: solid;
            border-color: #666666;
            background-color: #dedede;
        }

        table.gridtable td {
            border-width: 1px;
            padding: 5px;
            border-style: solid;
            border-color: #666666;
            background-color: #ffffff;
        }
</style>

<div style="width:500px; padding-left:340px;">
    <h2> Bank Reconcilation </h2>
</div>

@using (Html.BeginForm("Index", "BankReconcilation", FormMethod.Get, new { @class = "IndexForm submit-allow ignore-validation" }))
{
    <div>
        <section style=" border: 1px solid #afafaf; border-radius: 5px; padding: 10px 0 10px 10px;">
            <table class="tabefont">

                <tr>
                    <td>
                        @Html.DisplayName("Sector Name :")
                        @Html.Hidden("voucherId")
                    </td>

                    <td>
                        @Html.DropDownList("SectorId", null, "-Select-")
                    </td>

                    <td></td>
                </tr>

                <tr>
                    <td>
                        @Html.DisplayName("Financial Period :")
                    </td>

                    <td>
                        @Html.DropDownList("FpId", null, "- Select Financial Period -", new { @onchange = "SetCalenderFixed(this.value)", style = "width:320px;" })
                    </td>

                    <td></td>
                </tr>

                <tr>
                    <td>
                        @Html.DisplayName("Account Name :")
                    </td>

                    <td>
                        @Html.TextBox("AccountName")
                    </td>

                    <td></td>
                </tr>

                <tr>
                    <td>
                        @Html.DisplayName("From Date :")
                    </td>

                    <td>
                        @Html.TextBox("FromDate")
                    </td>

                    <td></td>
                </tr>

                <tr>
                    <td>
                        @Html.DisplayName("To Date :")
                    </td>

                    <td>
                        @Html.TextBox("ToDate")
                    </td>

                    <td>
                        @*@Html.SearchButton()*@
                        <button class="search" type="button" onclick="search('/Accounting/BankReconcilation/Index', 'IndexForm')" />
                    </td>
                </tr>

                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>

            </table>
        </section>
    </div>
}

<div style="height: 20px;">
</div>

<div class="additem">
    @*@if (Model.VoucherLists.Any())*@
    @if (1==1)
    {
        var grid = new WebGrid(canPage: true, rowsPerPage: 10, canSort: false, ajaxUpdateContainerId: "grid");
        grid.Bind(Model.VoucherLists, rowCount: Model.TotalRecords, autoSortAndPage: false);
        grid.Pager(WebGridPagerModes.All);
        @grid.GetHtml(htmlAttributes: new { id = "grid" },
                         tableStyle: "webgrid-table webgrid",
                headerStyle: "webgrid-header",
                footerStyle: "webgrid-footer",
                alternatingRowStyle: "webgrid-alternating-row",
                selectedRowStyle: "webgrid-selected-row",
                rowStyle: "webgrid-row-style",
                            firstText: "First",
                                     lastText: "Last",
                                      nextText: "Next",
                                      mode: WebGridPagerModes.All,
                                          previousText: "Previous",
                    columns: grid.Columns(                  
                       // grid.Column(header: "Reconciled", format: @<text><input name="IsRequired" type="checkbox" @if (item.Reconciled) { <text> checked="checked" </text> } value="@item.Reconciled" /></text>),      
                         
                          grid.Column(header: "Reconciled", format: (item) => @Html.Raw("<input type='checkbox' " + ((item.Reconciled==true) ? "checked" : "") + "/>")),                                                   
                          grid.Column(header: "Index", format: item => item.WebGrid.Rows.IndexOf(item) + 1),
                          grid.Column("Date", header: "Date"),
                          grid.Column("VoucherType", header: "Voucher Type"),
                          grid.Column("VoucherNo", header: "Voucher No"),
                          grid.Column("Particulars", header: "Particulars"),
                          grid.Column("Amount", header: "Amount"),
                          grid.Column("Id")
                             ));
    }
    else
    {
        @Html.Partial("~/Views/Shared/_NoDataMessage.cshtml")
    }
    <div style="margin-top: 10px; margin-bottom: 45px;">
        <input type="button" value="Submit" onclick="SaveBankReconMaster()" />
    </div>
</div>
<div>
    <b>Receipt/Payment</b>
    <hr />
</div>
<div style="margin-top: 15px;margin-bottom: 5px;">
    <button class="addTableRow">Add new</button>
</div>

<div>
    <table width="500px" class="gridtable tabefont" id="ManualVoucher">
        <tr>
            <th>SL</th>
            <th>Date</th>
            <th>Particulars</th>
            <th>Cheque No</th>
            <th>Cheque Date</th>
            <th>Amount</th>
            <th>Types</th>
            <th>Delete</th>
        </tr>
    </table>
</div>

<div class="tableRow">

</div>

<div style="margin-top: 10px; margin-bottom: 50px;">
    <input type="button" value="Save" onclick="SaveBankVoucherManual()" />
</div>

@section scripts
{
    <script src="~/Scripts/SCERP/Acc_BankReconcilation.js"></script>

    <script type="text/javascript">

        $(document).ready(function () {

            $('#AccountName').autocomplete(
                {
                    source: '@Url.Action("TagSearch", "BankReconcilation")'
                });
        });
    </script>
}
