@using System.Data
@model SCERP.Web.Areas.Production.Models.ProductionReportViewModel
@{
    Layout = "~/Views/Shared/_InventoryLayout.cshtml";
}
<div class="header-title">
    <h2>DAILY PRODUCTION STATUS</h2>
</div>
<section class="common-search-section">
    <div class="search formCover common-search-wrapper">
        
        @using (Html.BeginForm("DailyProductionStatus", "ProductionReport", FormMethod.Post, new {@class = "DailyProductionStatusReportForm ignore-validation"}))
        {
            <table>
                <tr>
                    <td>
                        @Html.Label("Input Date")
                    </td>
                    <td>
                        @Html.TextBoxFor(x => x.FilterDate, new {@class = "datepicker", @data_val = "false", id = "OutputDate"})
                    </td>
                    <td>
                        <div class="dropdown">
                            <button class="dropbtn">REPORT▼</button>
                            <div class="dropdown-content">
                                <a style="cursor: pointer" target="_blank" onclick="DailyProductionStatus(1)">PDF</a>
                                <a style="cursor: pointer" target="_blank" onclick="DailyProductionStatus(3)">Excel</a>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        }

    </div>
</section>
@section styles
{
    <link href="~/Content/Common/SingleDropdownMenu.css" rel="stylesheet" />
}
@section scripts
{
    <script type="text/javascript">
        function DailyProductionStatus(reportType) {
            var form = $('.DailyProductionStatusReportForm');
            if (jQuery.validator && jQuery.validator.unobtrusive) {
                form.validate();
                if (!form.valid()) {

                    return false;
                } else {
                    var data = form.serialize();
                    var searchurl = '/ProductionReport/DailyProductionStatusReport?' + data + '&ReportType=' + reportType;
                    window.open(searchurl);
                }
            }


        }
    </script>
}
