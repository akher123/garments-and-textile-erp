@model SCERP.Web.Areas.Inventory.Models.ViewModels.ReceiveAgainstPoViewModel
@{
    Layout = "~/Views/Shared/_InventoryLayout.cshtml";
    ViewBag.Title = (Model.ReceiveAgainstPo.MaterialReceiveAgstPoId > 0 ? "Edit" : "Add");
}

@using (Html.BeginForm("Save", "AccessoriesReceive", FormMethod.Post, new { @class = "AccessoriesReceiveForm ignore-validation" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(x => x.ReceiveAgainstPo.MaterialReceiveAgstPoId)
    @Html.HiddenFor(x => x.IsSearch)
    <fieldset>
    <legend>Accessories Received Against(PI/Booking)</legend>

    <table >
        <tr>
            <td>
                <table>
                    <tr>
                        <td>
                            @Html.DisplayName("RefNo:")
                        </td>
                        <td>
                            @Html.TextBoxFor(x => x.ReceiveAgainstPo.RefNo, new {id="accRcvRefId", @style = "background-color: #b0c4de;", @readonly = "readonly" })
                        </td>
                        <td>
                            @Html.Label("*", new { @class = "labelInstruction" })
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.Label("RType :")
                        </td>
                        <td>
                            @Html.DropDownListFor(x => x.ReceiveAgainstPo.RType, new SelectList(new[] { new { RType = SCERP.Common.RType.PI, Text = "PI" } }, "RType", "Text"),  new { id = "accReceiveType" })
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            @Html.Label("Buyer :")
                        </td>
                        <td>
                            @Html.DropDownListFor(x => x.BuyerRefId, Model.BuyerRefSelectListItem, new { @class = "accIssue_BuyerRefId" })
                        </td>
                        <td>
                            @Html.Label("*", new { @class = "labelInstruction" })
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.Label("OrderNo :")
                        </td>
                        <td>
                            @Html.DropDownListFor(x => x.ReceiveAgainstPo.OrderNo, Model.OrderSelectListItem, new { @class = "accIssue_OrderNo" })
                        </td>
                        <td>
                            @Html.Label("*", new { @class = "labelInstruction" })
                        </td>


                    </tr>
                    <tr>
                        <td>
                            @Html.Label("Style No:")
                        </td>
                        <td>
                            @Html.DropDownListFor(x => x.ReceiveAgainstPo.OrderStyleRefId, Model.StylesSelectListItem, new { @class = "accIssue_OrderStyleRefId", id = "poByStyle" })
                        </td>
                        <td>
                            @Html.Label("*", new { @class = "labelInstruction" })
                        </td>
                    </tr>
                    <tr id="dropdownPiBookingContainner">
                        @Html.Partial("~/Areas/Inventory/Views/AccessoriesReceive/_RType.cshtml", Model)
                    </tr>
               
                    <tr>
                        <td>

                            @Html.Label("Invoice No :")
                        </td>
                        <td>
                            @Html.TextBoxFor(x => x.ReceiveAgainstPo.InvoiceNo)
                        </td>
                        <td>
                            @Html.Label("*", new { @class = "labelInstruction" })
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.Label("Invoice Date :")
                        </td>
                        <td>
                            @Html.TextBoxFor(x => x.ReceiveAgainstPo.InvoiceDate, new { @class = "datepicker" })
                        </td>
                        <td>
                            @Html.Label("*", new { @class = "labelInstruction" })
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.Label("LC No :")
                        </td>
                        <td>
                            @Html.TextBoxFor(x => x.ReceiveAgainstPo.LcNo, new { @class = "booKing_remarks" })
                        </td>
                        <td></td>
                    </tr>
                    <tr>


                        <td>
                            @Html.Label("Rcv Reg No :")
                        </td>
                        <td>
                            @Html.EditorFor(x => x.ReceiveAgainstPo.ReceiveRegNo)
                        </td>
                        <td>
                            @Html.Label("*", new { @class = "labelInstruction" })
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.DisplayName("Rcv Reg Date :")
                        </td>
                        <td>

                            @Html.TextBoxFor(x => x.ReceiveAgainstPo.ReceiveRegDate, new { @class = "datepicker" })
                        </td>
                        <td>
                            @Html.Label("*", new { @class = "labelInstruction" })
                        </td>

                    </tr>
                    <tr>
                        <td>
                            @Html.DisplayName("GEN :")
                        </td>
                        <td>

                            @Html.TextBoxFor(x => x.ReceiveAgainstPo.GateEntryNo)
                        </td>
                        <td>
                            @Html.Label("*", new { @class = "labelInstruction" })
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.DisplayName("GE Date:")
                        </td>
                        <td>
                            @Html.TextBoxFor(x => x.ReceiveAgainstPo.GateEntryDate, new { @class = "datepicker" })
                        </td>
                        <td>
                            @Html.Label("*", new { @class = "labelInstruction" })
                        </td>

                    </tr>
                    <tr>
                        <td>
                            @Html.Label("Remarks :")
                        </td>
                        <td>
                            @Html.TextBoxFor(x => x.ReceiveAgainstPo.Remarks, new { @class = "booKing_remarks" })
                        </td>
                        <td></td>
                    </tr>
                </table>
            </td>
            <td>

                <div style="overflow-x: auto; height: 525px;">

                    <table id="ReceivedAgstPoDetail" class="webgrid-table">
                        <thead style="text-align: center" class="webgrid-header">
                        <tr>
                            <th>
                                @Html.Label("Item")
                            </th>
                            <th>
                                @Html.Label("GRM Color")
                            </th>
                            <th>
                                @Html.Label("GRM Size")
                            </th>
                            <th>
                                @Html.Label("Product Color")
                            </th>
                            <th>
                                @Html.Label("Prouct Size")
                            </th>
                            <th>
                                @Html.Label("Unit") 
                            </th>
                            <th>
                                @Html.Label("Rate")
                            </th>
                            <th>
                                @Html.Label("TRcvQty")
                            </th>
                            <th>
                                @Html.Label("TBQty")
                            </th>
                            <th>
                                @Html.Label("Qty")
                            </th>
                            <th>@Html.Label("Location")</th>
                            <th>
                                @Html.Label("Delete")
                            </th>
                        </tr>
                        </thead>

                        <tbody>

                        @foreach (var m in Model.Dictionary)
                        {
                            <tr id="newRow-@Model.Dictionary[m.Key].ItemId">
                                <td>
                                    @Html.HiddenFor(x => x.Dictionary[m.Key].PurchaseOrderDetailId)
                                    @Html.HiddenFor(x => x.Dictionary[m.Key].MaterialReceiveAgstPoId)
                                    @Html.HiddenFor(x => x.Dictionary[m.Key].MaterialReceiveAgstPoDetailId)
                                    @Html.HiddenFor(x => x.Dictionary[m.Key].ItemId)
                                    @Html.DisplayFor(x => x.Dictionary[m.Key].ItemName)
                                </td>
                                <td>
                                    @Html.DisplayFor(x => x.Dictionary[m.Key].FColorName)
                                    @Html.HiddenFor(x => x.Dictionary[m.Key].FColorRefId)
                                </td>
                                <td>
                                    @Html.DisplayFor(x => x.Dictionary[m.Key].GSizeName)
                                    @Html.HiddenFor(x => x.Dictionary[m.Key].GSizeRefId)
                                </td>
                                <td>
                                    @Html.HiddenFor(x => x.Dictionary[m.Key].ColorRefId)
                                    @Html.DisplayFor(x => x.Dictionary[m.Key].ColorName)
                                </td>
                                <td>
                                    @Html.HiddenFor(x => x.Dictionary[m.Key].SizeRefId)
                                    @Html.DisplayFor(x => x.Dictionary[m.Key].SizeName)
                                </td>
                                <td>
                            
                                    @Html.DisplayFor(x => x.Dictionary[m.Key].UnitName)
                                </td>
                                <td style="width: 65px;">
                                    @Html.HiddenFor(x => x.Dictionary[m.Key].ReceivedRate)
                                    @Html.DisplayFor(x => x.Dictionary[m.Key].ReceivedRate)
                                </td>
                                <td>
                                    @Html.DisplayFor(x => x.Dictionary[m.Key].TotalRcvQty)
                                </td>
                                <td>
                                    @Html.DisplayFor(x => x.Dictionary[m.Key].BalanceQty)
                                </td>
                               

                                <td>
                                    @Html.TextBoxFor(x => x.Dictionary[m.Key].ReceivedQty, new { style = "width:80px;" })
                                </td>
                                <td>
                                    @Html.TextBoxFor(x => x.Dictionary[m.Key].Location, new { style = "width:100px;" })
                                </td>
                                <td>
                                    <input type="button" value="-" onclick="deleteRow(this)" />
                                </td>
                            </tr>
                        }
                     
                        </tbody>
                    </table>
                    <div style="margin-top: 50px;">
                        <div style="float: left">
                            <input onclick="search('/Inventory/AccessoriesReceive/Index')" value="Back" id="backButton" class="addButton" type="button" />
  
                        </div>
                        <div style="float: right">
                            <input type="button" id="accSaveButton" class="addButton" value="Save" />
                        </div>
                      
                    </div>
                </div>
            </td>
        </tr>
    </table>



    </fieldset>


}
@section scripts
{
    <script src="~/Scripts/SCERP/Inventory/accessoriesReceive.js"></script>

}
